# VOKG Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Application Settings
# ============================================
APP_NAME=VOKG
APP_VERSION=0.1.0
DEBUG=False
ENVIRONMENT=production

# ============================================
# API Gateway
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# Security
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-min-32-chars-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-encryption-key-min-32-chars-change-this

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_USER=vokg
POSTGRES_PASSWORD=change-this-password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=vokg

# ============================================
# Neo4j Graph Database
# ============================================
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=change-this-password

# ============================================
# Redis Cache & Broker
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================
# Celery
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3300

# ============================================
# Storage (MinIO/S3)
# ============================================
STORAGE_TYPE=minio
S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_NAME=vokg
S3_REGION=us-east-1

# ============================================
# Video Processing
# ============================================
MAX_VIDEO_SIZE_MB=500
ALLOWED_VIDEO_FORMATS=mp4,avi,mov,mkv,webm
FRAME_EXTRACTION_FPS=1
FRAME_EXTRACTION_MAX_FRAMES=1000
FRAME_OUTPUT_FORMAT=jpg
FRAME_OUTPUT_QUALITY=85

# ============================================
# SAM 2 Configuration
# ============================================
SAM_MODEL_TYPE=vit_h
SAM_CHECKPOINT_PATH=/models/sam2_hiera_large.pt
SAM_CONFIG_PATH=/models/sam2_hiera_l.yaml
SAM_DEVICE=cuda
SAM_BATCH_SIZE=4
SAM_POINTS_PER_SIDE=32
SAM_PRED_IOU_THRESH=0.88
SAM_STABILITY_SCORE_THRESH=0.95

# ============================================
# CLIP Configuration (Optional)
# ============================================
USE_CLIP=False
CLIP_MODEL_NAME=ViT-B/32

# ============================================
# Object Tracking
# ============================================
TRACKING_IOU_THRESHOLD=0.3
TRACKING_MAX_AGE=5
TRACKING_MIN_HITS=3

# ============================================
# Interaction Detection
# ============================================
INTERACTION_TEMPORAL_WINDOW=30
INTERACTION_PROXIMITY_THRESHOLD=50.0
INTERACTION_IOU_THRESHOLD=0.1
INTERACTION_VELOCITY_THRESHOLD=5.0

# ============================================
# Knowledge Graph
# ============================================
GRAPH_MIN_CONFIDENCE=0.5
GRAPH_MAX_NODES=10000
GRAPH_MAX_EDGES=50000

# ============================================
# LLM Configuration
# ============================================
# Choose provider: openai or gemini
LLM_PROVIDER=openai

# OpenAI Settings (if using OpenAI)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# Gemini Settings (if using Gemini)
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-1.5-pro

# LLM General Settings
LLM_MAX_RETRIES=3
LLM_TIMEOUT=120

# ============================================
# WebSocket
# ============================================
WS_MESSAGE_QUEUE_SIZE=100
WS_HEARTBEAT_INTERVAL=30

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=

# ============================================
# Monitoring (Optional)
# ============================================
SENTRY_DSN=
ENABLE_METRICS=True
METRICS_PORT=9090
